{% extends "base_centered.html" %}

{% block content %}
<div class="row justify-content-center">
  <div class="col-12 col-md-6 my-auto p-3">
    <div class="mb-5">
      <a href="/" class="text-decoration-none"><span class="h3 text-primary">The Evidence Locker</span></a>
    </div>
    <div id="signup-form">
      <h1 class="h2">Create your Locker</h1>
      <p>Begin protecting yourself today.</p>

      {% if request.args.get("error") %}
      <p class="text-danger my-4">{{ request.args.get("error") }}</p>
      {% endif %}
      <form action="/signup" method="post">

        <input type="hidden" name="time" value="{{ g.time }}">
        <input type="hidden" name="csrf_token" value="{{ token }}">

        <label for="username-register" class="mt-3">Username</label>
        <input class="form-control" id="username-register" aria-describedby="usernameHelpRegister" type="text" name="username" pattern="[a-zA-Z0-9_]{5,50}" required>
        <small id="usernameHelpRegister"></small>

        <label for="email-register" class="mt-3">Email Address</label>
        <small class="d-inline-block text-muted ml-1">(optional, but forgotten passwords cannot be recovered without an email address)</small>
        <input class="form-control" id="email-register" aria-describedby="emailHelpRegister" type="text" name="email">

        <label for="password-register" class="mt-3">Password</label>

        <input class="form-control" id="password-register" aria-describedby="passwordHelpReigster" type="password" name="password" required>
        <small id="passwordHelpRegister" class="form-text font-weight-bold text-muted d-none mt-1">Minimum of 8 characters required.</small>
        <small id="passwordHelpSuccess" class="form-text font-weight-bold text-success d-none mt-1">Your password meets the requirements.</small>

        <label for="password_confirm" class="mt-3">Confirm Password</label>

        <input class="form-control" id="password_confirm" aria-describedby="passwordConfirmHelp" type="password" name="password_confirm" required>

        <div class="custom-control custom-checkbox mt-4">
          <input type="checkbox" class="custom-control-input" id="termsCheck" name="terms_agree" value="true" required>
          <label class="custom-control-label terms" for="termsCheck">I accept the <a href="/help/terms" target="_blank">terms and conditions</a></label>
        </div>


        <div class="h-captcha" data-sitekey="{{ hcaptcha }}"></div>
        <script src="https://hcaptcha.com/1/api.js" async defer></script>

        <button class="btn btn-primary login w-100 my-3" id="register_button">Continue</button>
        <p class="text-small text-center">Already have an account? <a href="/login">Log in</a></p>

      </form>
    </div>
  </div>
</div>
{% endblock %}
